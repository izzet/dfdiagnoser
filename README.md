# Data Flow Diagnoser

## Overview 

DFDiagnoser is an open-source diagnosis tool for diagnosing [DFAnalyzer](https://github.com/LLNL/dfanalyzer) checkpoints. For now, DFDiagnoser solely identifies the severities of the metrics calculated by DFAnalyzer. In the future, it will also produce a diagnosis based on dynamic rules.

## Installation

To install DFDiagnoser through `pip` (recommended for most users):

```bash
pip install dfdiagnoser
```

To install DFDiagnoser from source (for developers or custom builds):

```bash
# Clone the repository
git clone https://github.com/LLNL/dfdiagnoser.git
cd dfdiagnoser

# Install with uv (recommended)
uv sync
uv pip install -e .

# For development dependencies
uv sync --group dev
```

## Usage

```bash
checkpoint_dir=/path/checkpoint

# First, run DFAnalyzer to create checkpoints
dfanalyzer \
    analyzer.checkpoint=True \
    analyzer.checkpoint_dir=$checkpoint_dir \
    analyzer/preset=dlio \
    trace_path=tests/data/extracted/dftracer-dlio \
    view_types=[time_range]

# Then, run DFDiagnoser to analyze the checkpoints
dfdiagnoser \
    input=checkpoint \
    input.checkpoint_dir=$checkpoint_dir \
    output=file \
    output.output_format=json
```

For further information about DFAnalyzer, visit [https://dfanalyzer.readthedocs.io/](https://dfanalyzer.readthedocs.io/).

## Requirements

- Python >= 3.9
- DFAnalyzer checkpoints (generated by running DFAnalyzer with checkpointing enabled)

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.
